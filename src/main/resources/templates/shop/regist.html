<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>regist</title>
</head>
<body>
<h1>신규 쇼핑몰 등록</h1>
<form action="/shop/regist" method="post">
  <label>쇼핑몰 이름 : </label><input type="text" name="shopName"><br>
  <label>쇼핑몰 판매 누적액 : </label><input type="number" name="totalSales"><br>
  <label>카테고리 코드 : </label>

  <select name="categoryCode" id="categoryCode">
    <!--
    카테고리 내용이 변화할 수 있다면 조회 해서 처리해야 하며 fetch로 처리
    -->
  </select><br>
  <label>영업 상태 : </label>
  <select name="orderableStatus">
    <option value="Y">영업 가능</option>
    <option value="N">영업 불가</option>
  </select><br>
  <input type="submit" value="등록하기">
</form>
<script>
  fetch('/shop/category')
          .then(res => res.json())
          .then(data => {
            const $categoryCode = document.getElementById('categoryCode');
            console.log($categoryCode)
            for(let index in data){
              const $option = document.createElement('option');
              $option.value = data[index].categoryCode;
              $option.textContent = data[index].categoryName;
              $categoryCode.appendChild($option);
            }
          });
</script>
</body>
</html>